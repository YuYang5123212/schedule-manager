<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„æ—¥ç¨‹ç®¡ç†ç³»ç»Ÿ</title>
    <!-- å¼•å…¥ FullCalendar -->
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js'></script>
    <link rel="stylesheet" href="style.css?v=2.0">
</head>

<body>

    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <div class="top-bar">
        <div class="logo">ğŸ“… ä¸ªäººæ—¥ç¨‹ä¸­å¿ƒ</div>
        <div class="controls">
            <button onclick="switchView('overview')" class="btn active" id="btn-overview">å…¨å±€æ¦‚è§ˆ (å¹´)</button>
            <button onclick="switchView('detail')" class="btn" id="btn-detail">è¯¦ç»†ç®¡ç† (æœˆ/å‘¨)</button>
        </div>
        <div id="status" class="status-badge">è¿æ¥ä¸­...</div>
    </div>

    <!-- ä¸»å®¹å™¨ -->
    <div class="main-layout">

        <!-- å·¦ä¾§ï¼šæ—¥å†åŒºåŸŸ -->
        <div class="calendar-section">
            <div id='calendar'></div>
        </div>

        <!-- å³ä¾§ï¼šä»»åŠ¡æ¸…å•/å¤‡æ³¨åŒºåŸŸ (ä»¿æ ¡å†å³ä¾§) -->
        <div class="sidebar-section">
            <h3>ğŸ“Œ å¾…åŠäº‹é¡¹ / å¤‡æ³¨</h3>
            <div id="task-list" class="task-container">
                <!-- è¿™é‡Œçš„ä»»åŠ¡ä¼šé€šè¿‡ JS åŠ¨æ€ç”Ÿæˆ -->
                <p style="color:#999; text-align:center">æš‚æ— å¾…åŠ</p>
            </div>

            <div class="quick-add">
                <button onclick="manualAddEvent()" style="width:100%; margin-top:10px;">+ å¿«é€Ÿæ·»åŠ æ—¥ç¨‹</button>
            </div>
        </div>
    </div>

    <!-- å¼•å…¥ JS (æ³¨æ„ ?v=2.0 ç”¨äºå¼ºåˆ¶æ‰‹æœºåˆ·æ–°ç¼“å­˜) -->
    <script type="module" src="script.js?v=2.0"></script>

    <!-- å…¨å±€å‡½æ•°ç»‘å®š (ç”¨äºHTMLä¸­çš„onclick) -->
    <script>
        // ç®€å•çš„è§†å›¾åˆ‡æ¢é€»è¾‘ï¼Œå…·ä½“æ—¥å†æ“ä½œåœ¨ script.js å†…éƒ¨
        window.switchView = function (mode) {
            document.querySelectorAll('.btn').forEach(b => b.classList.remove('active'));
            if (mode === 'overview') {
                document.getElementById('btn-overview').classList.add('active');
                window.calendarAPI.changeView('multiMonthYear');
            } else {
                document.getElementById('btn-detail').classList.add('active');
                window.calendarAPI.changeView('dayGridMonth');
            }
        }
    </script>
</body>

</html>